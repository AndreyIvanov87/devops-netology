
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.  
  
Аппаратная виртуализация подразумемает установку гипервизора на чистое железо, без хостовой операционной системы, задачи который по управлению оборудованием берет на себя гипервизор и эмулирует работу оборудования для гостевых ОС.  
Паравиртуализация - гипервизор работает под управлением ОС установленной на хосте (и управляющей оборудованием и файловыми системами), и эмулирует для гостевых ОС работу оборудования, доступного для хост системы.  
Виртуализация на основе ОС предоставляет гостевым виртуальным машинам изолированное окружение для работы только на основе ядра той операционной системы под которой запущен гипервизор.  

## Задача 2  
  
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.  
  
Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.  
	использование виртуализации может снизить производительность и добавит точку отказа, так что лучше использовать физические сервера, с резервированием, например средствами репликации СУБД.  
- Различные web-приложения.
	если их несколько, то бывает что с точки зрения безопасности и избежания конфликтов по настройкам их лучше изолировать друг от друга, в то же время операционная система им как правило подходит одна и та же, так что виртуализация уровня ОС позволит запустить нужно число окружений для веб-приложений, задействовав меньше оборудования.  
- Windows системы для использования бухгалтерским отделом.
	Здесь требуются изолированные окружения для сотрудников и базы данных, обычно под ОС семейства windows, удобнее всего дожно быть использование паравиртуализации на Hyper-V.
- Системы, выполняющие высокопроизводительные расчеты на GPU.
	физические сервера - для работы с GPU лучше дать приложениям прямой доступ к оборудованию, чтобы добиться наилучшего быстродействия и избежать проблем связанных с эмулцией gpu для гостевой ОС. 
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  
	hyper-V : как наиболее подходящее для виртуализации windows систем, при этом поддерживающее и linux хосты. Балансировка нагрузки описана в официальной документации https://docs.microsoft.com/ru-ru/azure-stack/hci/manage/vm-load-balancing , создание резервных копий поддерживается https://docs.microsoft.com/ru-ru/system-center/dpm/back-up-hyper-v-virtual-machines?view=sc-dpm-2016 , репликация https://docs.microsoft.com/ru-ru/windows-server/virtualization/hyper-v/manage/set-up-hyper-v-replica  
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.  
	Как производительное, стабильно работающее, универсальное, проверенное open source решение должен подойти xen. Xen PV и Windows совместимы.  

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.  
	hyper-V : он включен в состав windows server и Pro- и Enterprise-версии windows 8 и выше, лицензии на которые и так скорее всего будут, если планируется использовать Windows инфраструктуру, либо есть вариант бесплатной Microsoft Hyper-V Server. Для Windows решений у этого гипервизора совместимоить и производительность должна быть лучше всех.   

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.  
	KVM является нативным для большинства современных ядер Linux, показывает хорошую производительность на виртуализации linux, активно развивается.   

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.  
	Я вижу 2 главные проблемы: сложность миграции виртуальных машин между различными системами виртуализации и необходимость в большем количестве или квалификации инженеров, которые будут это настраивать и поддерживать (А так же возможно усложнение бизнес-процессов которые затрагивают работу с виртуализацией, например лицензирование).  
	Для минимизации этих проблем надо исключить дублирование фунций виртуализации между различными гипервизорами, чтобы задача миграции виртуальных машин с одной на другую не возникала. Убедиться что у организации достаточно кадровых ресурсов для реализации и поддержки гетерогенной среды и что это вообще целесообразно. 
	Ну и выбор зависит от задач и размера инфраструктуры: если есть возможность использовать один гипервизор для всех задач, то чтобы не плодить сущности без крайней необходимости , то лучше выбрать наиболее подходящий. Лучше остановиться на таком варианте, если удобство администрирования только одной системы перевесит возможные плюсы от использования гетерогенной среды виртуализации. 
	Обратный пример, если у организации есть большая инфраструктура под сильно разные проекты и it отдел имеет в штате много специалистов по различным системам виртуализации, то почему бы не использовать где нужно наиболее подходящее нишевое решение. Пример - хостинг провайдер с услугой предоставления в аренду виртуальных частных серверов (VPS) - клиентам требуются виртуальные машины как под unix-like системы, так и под windows. Вполне целесообразно использовать 2 гипервизора в зависимости от того, какой больше подойдет для работы с гостевой ОС клиента.  






